<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Validation Form</title>
    <link rel="stylesheet" href="style.css">

    <script>
        var storedigit;  //variable declaration to store the 4 digit randomly generated number

        //4 digit Random Number Generation Function
        function randomNum() {
            var fourdigitsrandom = Math.floor(1000 + Math.random() * 9000);
            document.getElementById("fourdigit").innerHTML = fourdigitsrandom;
            storedigit = fourdigitsrandom;
        }

        //A function to compare the generated number with the input and take action accordingly , this function is called after submitting the validation form
        function complete() {
            var compare = document.getElementById("input").value; //Digit are stored in variable compare
            var pattern = /^[0-9]{4}$/;                              
            if (compare.match(pattern)) {
                if (compare == storedigit) {
                    document.getElementById("page").innerHTML = "Validation Successful!";
                    window.location.replace("http://pixel6.co/");
                }
                else {                 
                    window.location.replace("http://pixel6.co/404");
                }
            }
        }
        

        


    </script>
</head>

<body onload="randomNum();" id="page">
    <!--Paragraph for displaying the digits, The digits can be seen in the top of the page-->
    <p id="fourdigit" class="random"></p>

    <Form action="#">

        <h2>Validation Form</h2>

        <label>
            Dear <span id="nameCheck"></span>,<br><br>
            Thank you for your enquiry. <br><br>
            A 4 digit verification number has been sent to your phone number: </label> <span id="phoneNum"></span>
        <br><br>

        <label>
            Please enter in the following box and submit for confirmation:
            <input type="text" pattern="[0-9]{4}" id="input" placeholder="Enter OTP" title="Hint : 4 Digit Number"
                required>
        </label> <br><br>


        <!--On clicking the button complete function is called for redirecting the page to pixel6 webpage-->
        <button type="submit" class="editbtn" onclick="complete();" id="validate">Validate</button><br>
    </Form>

    <!-- To get the input from the previous page which is stored in the local storage-->
    <script>
        document.getElementById("nameCheck").innerHTML = localStorage.getItem("nameValue");
        document.getElementById("phoneNum").innerHTML = localStorage.getItem("phonenumber");
    </script>
</body>

</html>